$(document).ready(function(){function a(a,e,t){d.html("").append(a),$("#readme").prepend(t);for(var n,o=$("h6 a, h5 a, h4 a, h3 a, h2 a, h1 a"),c=$('#readme a[href^="#"]').not(".anchor"),h=e.split("/")[3],i=e.split("/")[4],l="https://raw.githubusercontent.com/"+h+"/"+i+"/master/",p="https://github.com/"+h+"/"+i+"/blob/master",u="style=",g=$("img"),v=[],b=0,w=g.length;w>b;++b){var k=$(g[b]).attr("src");s(k)||(k=k.startsWith("/")?k:"/"+k,$(g[b]).attr("src",l+k))}for(var b=0,w=c.length;w>b;++b){var C=$(c[b]);C.attr("class","cate-anchor"),C.attr("data-anchor",$(c[b]).attr("href")),C.removeAttr("href")}for(var b=0,w=o.length;w>b;++b)o[b].id=o[b].id.replace("user-content-",""),u="style=",o[b].id&&(n=$(o[b]).parent()[0].nodeName,"H1"===n?u+='"font-size: 18px;"':"H2"===n?(u+='"font-size: 16px; color:#3C3C3C;"',m.append('<li class="cate-anchor-h2"><a class="cate-anchor" '+u+' data-anchor="#'+o[b].id+'">'+$(o[b]).parent("h6, h5, h4, h3, h2, h1").text()+"</a></li>")):"H3"===n?(u+='"font-size: 14px; color:#7B7B7B;"',m.append('<li class="cate-anchor-h3"><a class="cate-anchor" '+u+' data-anchor="#'+o[b].id+'">'+$(o[b]).parent("h6, h5, h4, h3, h2, h1").text()+"</a></li>")):"H4"===n?(u+='"font-size: 12px; color:#ADADAD;"',m.append('<li class="cate-anchor-h4"><a class="cate-anchor" '+u+' data-anchor="#'+o[b].id+'">'+$(o[b]).parent("h6, h5, h4, h3, h2, h1").text()+"</a></li>")):"H5"===n?(u+='"font-size: 12px; color:#D9006C;"',m.append('<li class="cate-anchor-h5"><a class="cate-anchor" '+u+' data-anchor="#'+o[b].id+'">'+$(o[b]).parent("h6, h5, h4, h3, h2, h1").text()+"</a></li>")):"H6"===n&&(u+='"font-size: 12px; color:#EA0000;"',m.append('<li class="cate-anchor-h6"><a class="cate-anchor" '+u+' data-anchor="#'+o[b].id+'">'+$(o[b]).parent("h6, h5, h4, h3, h2, h1").text()+"</a></li>")));v=$("#readme a").not(".cate-anchor");for(var b=0,w=v.length;w>b;++b){var k=$(v[b]).attr("href");k&&!s(k)&&(k=k.startsWith("/")?k:"/"+k,$(v[b]).attr({href:p+k})),$(v[b]).attr({target:"_blank"})}$(".cate-anchor").click(r),f.removeClass("content-hidden")}function e(){var a=[],e=$(".awesome-cate");e.html(""),Object.keys(i).forEach(function(t){var s=t.replace(/\W/g,"").toLowerCase();a=a.concat(i[t]),e.append('<strong><i class="fa fa-terminal" style="color: gray;"></i> '+t+'</strong><li><ul class="'+s+'-ul"></ul></li>'),i[t].forEach(function(a){var e=$("."+s+"-ul"),t="";t=a.url.split("/").indexOf("github.com")>-1?'<li><a href="#repos/'+a.repo+'"><span><i class="fa fa-bookmark"></i> '+a.name+"</span></a></li>":'<li><a href="'+a.url+'" target="_blank"><span><i class="fa fa-bookmark"></i> '+a.name+"</span></a></li>",e.append(t)})});var t=$("#sidedrawer"),s=$("strong",t);s.next().hide(),s.off("click"),s.on("click",function(){s.not(this).next().hide(),$(this).next().slideToggle(300)}),o=new Fuse(a,l)}function t(a,e,t,s,r){var n="https://api.github.com/repos/"+a+"/"+e+"/readme";$.ajax({url:n,headers:{accept:"application/vnd.github.v3.html"},success:function(a){r(a,t,s)}})}function s(a){var e=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return e.test(a)}function r(a){var e=$(a.target).data("anchor"),t=$(e).offset().top-$("#header").height();$("html, body").animate({scrollTop:t},300)}var n,o,c=!1,h="https://raw.githubusercontent.com/lockys/awesome.json/master/awesome/awesome.json",i={},l={keys:["name"]},d=$(".readme-container"),p=$(".search-result"),u=$(".search-input-section"),m=$(".mui-dropdown__menu"),f=$(".mui-dropdown"),g=function(r,o){var h="https://github.com/"+r+"/"+o;if(c="awesome"===o?1:0,jsonURL="https://raw.githubusercontent.com/lockys/awesome.json/master/repo-json/"+r+"-"+o+".json",f.removeClass("content-hidden"),p.addClass("content-hidden"),p.html(""),m.html(""),$(".alert").html(""),$(".awesome-input").val(""),c)e(),f.addClass("content-hidden");else{var i='<a href="'+h+'" class="origin-repo-btn" target="_blank">View On <i class="fa fa-github"></i></a><a href="https://github.com/lockys/awesome-search/issues/new" target="_blank" class="origin-repo-btn"><i class="fa fa-exclamation-circle"></i> This Repo Has Some Issues</a><br/><br/>';d.html('<div class="sk-spinner sk-spinner-pulse"></div>'),t(r,o,h,i,a),$.getJSON(jsonURL,function(a){var e=a,t=[];return u.removeClass("content-hidden"),0===Object.keys(e).length?($(".alert").html('<span style="color: red;">This repo has not been parsed yet, we will support it soon.</span><br/>'),void u.addClass("content-hidden")):(e.forEach(function(a){if(!s(a.url)){var e=h.split("/")[3],r=h.split("/")[4],n="https://github.com/"+e+"/"+r+"/blob/master";a.url=n+a.url}t=t.concat(a)}),void(n=new Fuse(t,l)))})}};$("input").on("input",function(a){var e=$(a.target).hasClass("cate-input"),t=$(this).val(),s=15;p=e?$(".cate-search-result"):$(".search-result"),p.removeClass("content-hidden"),p.html(""),t||p.addClass("content-hidden");var r=e?o.search(t):n.search(t),h="";r.length||p.html("No result :(");for(var i=0,l=s;l>i;++i)if(r[i]){var d=(r[i].name.replace(/\W/g,"").toLowerCase(),' href="'+r[i].url+'" ');c&&(d=""),h=r[i].description?" - "+r[i].description+"</br>":"<br/>",e?r[i].url.split("/").indexOf("github.com")>-1?p.append('<a href="#/repos/'+r[i].repo+'">'+r[i].name+"</a>"+h):p.append('<a href="'+r[i].url+'" target="_blank">'+r[i].name+"</a>"+h):p.append('<a href="'+r[i].url+'" class="search-repo-link"'+d+'target="_blank">'+r[i].name+"</a>"+h)}});var v=Backbone.Router.extend({routes:{"repos/:maintainer/:repo":"getRepos","":"getAwesome"}}),b=new v;b.on("route:getRepos",function(a,e){$(".search-holder").html("Search "+e),g(a,e)}),b.on("route:getAwesome",function(){g("sindresorhus","awesome")}),$("body").click(function(a){$(a.target).hasClass("home-button")&&(a.preventDefault(),window.location.hash="/",location.reload()),$(a.target).hasClass("awesome-input")||$(a.target).hasClass("search-result")||$(a.target).hasClass("search-icon")||($(".awesome-input").val(""),$(".search-result").addClass("content-hidden"),$(".search-input").removeClass("hovered")),$(a.target).hasClass("cate-input")||$(a.target).hasClass("cate-search-result")||($(".cate-input").val(""),$(".cate-search-result").addClass("content-hidden"))}),$.getJSON(h,function(a){i=a,g("sindresorhus","awesome")}),Backbone.history.start()}),jQuery(function(a){function e(){var e={onclose:function(){r.removeClass("active").appendTo(document.body)}},t=a(mui.overlay("on",e));r.appendTo(t),setTimeout(function(){r.addClass("active")},20)}function t(){s.toggleClass("hide-sidedrawer")}var s=a("body"),r=a("#sidedrawer");a(".js-show-sidedrawer").on("click",e),a(".js-hide-sidedrawer").on("click",t),a(".to-top-arrow").click(function(){return a("html, body").animate({scrollTop:0},600),!1})});